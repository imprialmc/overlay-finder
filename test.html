<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch Packs</title>
  </head>
  <body>
    <h1>Fetch Packs</h1>
    <div>
      <label for="searchInput">Search:</label>
      <input type="text" id="searchInput" />
      <button id="searchBtn">Search</button>
    </div>
    <br />
    <div id="output"></div>

    <script src="script.js"></script>
    <script>
      // Function to display fetched data
      function displayData(data) {
        let outputDiv = document.getElementById("output");
        outputDiv.innerHTML = "";
        if (data.length === 0) {
          outputDiv.textContent = "No data available.";
          return;
        }
        data.forEach((pack) => {
          let packDiv = document.createElement("div");
          packDiv.textContent = JSON.stringify(pack);
          outputDiv.appendChild(packDiv);
        });
      }

      // Function to handle search
      async function handleSearch() {
        let searchInput = document
          .getElementById("searchInput")
          .value.trim()
          .toLowerCase();
        if (searchInput === "") {
          alert("Please enter a search term.");
          return;
        }
        let searchData = await searchPacks(searchInput);
        displayData(searchData);
      }

      // Event listener for search button
      document
        .getElementById("searchBtn")
        .addEventListener("click", handleSearch);

      // Event listener for Enter key in search input
      document
        .getElementById("searchInput")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            handleSearch();
          }
        });
    </script>
  </body>
</html>
